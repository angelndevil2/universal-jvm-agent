<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>browse</title>
    <script type="text/javascript" src="/js/jquery-2.2.0.min.js"></script>

    <script>
        /**
         *
         * @param server addr
         * @param id mbean server id
         * @returns {*|jQuery}
         */
        function divMbeanServerId($serverAddr, id) {
            var $div = $("<div>").attr("id", id)
                    .html(id);
            $div.click(function() {
                $.get("/"+$serverAddr+"/mbeanservers/"+id+"/names",function(data) {
                    for (var id in data) {
                        var $div = $("<div>").html(data[id]);
                        $("#mbeanservers").append($div);
                    }
                });
            });

            return $div
        }
    </script>

    <script>
        $(function() {
            $("#getMBeanServers").click(
                    function () {
                        var $serverAddr = $("#serverAddr").val();
                        $.get("/"+$serverAddr+"/mbeanservers/ids",function(data) {
                            for (var id in data) $("#mbeanservers").append(divMbeanServerId($serverAddr, data[id]));
                        }, "json");
                    });
        })
    </script>

</head>
<body>
<div>
    <input id="serverAddr" type="text" placeholder ="enter server addr[:port]">
    <input id="getMBeanServers" type="button" value="get MBeanServer ids">
</div>
<div id="mbeanservers">

</div>
</body>
</html>